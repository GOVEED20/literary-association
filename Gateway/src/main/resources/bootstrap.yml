spring:
  application:
    name: gateway
  cloud:
    consul:
      host: localhost
      port: 8500
  zipkin:
    base-url: http://localhost:9411
  sleuth:
    sampler:
      probability: 1
    async:
      enabled: false

server:
  ssl:
    enabled: true
    key-store-type: PKCS12
    key-store: src/main/resources/gateway.p12
    key-alias: gateway
    key-store-password: goveda2020
    # client-auth: need
    trust-store: src/main/resources/gatewayTruststore.jks
    trust-store-password: goveda2020
    trust-store-type: JKS

---
spring:
  profiles: zone1
  cloud:
    consul:
      discovery:
        instanceZone: zone1
        register: false
        registerHealthCheck: false
        tags: zone=zone1
server:
  port: ${PORT:8080}

---
spring:
  profiles: zone2
  cloud:
    consul:
      discovery:
        instanceZone: zone2
        register: false
        registerHealthCheck: false
        tags: zone=zone2
server:
  port: ${PORT:9080}
